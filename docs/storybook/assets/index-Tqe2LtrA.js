import{c as j,g as mt}from"./index-RfLt4OUa.js";import{B as G}from"./browser-l0_MOcmM.js";import{p as k}from"./callBound-Uz6qjr9w.js";import{u as lt,i as K}from"./util-6S_QBGOh.js";import{e as st}from"./events-fK0UhkIE.js";import{b as se}from"./index-zqflMFO-.js";import{a as Rt}from"./index-zZCSeRuV.js";import{a as Et}from"./url-xgBfOcQT.js";function St(n,r){for(var c=0;c<r.length;c++){const y=r[c];if(typeof y!="string"&&!Array.isArray(y)){for(const s in y)if(s!=="default"&&!(s in n)){const u=Object.getOwnPropertyDescriptor(y,s);u&&Object.defineProperty(n,s,u.get?u:{enumerable:!0,get:()=>y[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}var we,Fe;function ut(){return Fe||(Fe=1,we=st.EventEmitter),we}var me,Ge;function Tt(){if(Ge)return me;Ge=1;function n(E,A){var m=Object.keys(E);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(E);A&&(i=i.filter(function(h){return Object.getOwnPropertyDescriptor(E,h).enumerable})),m.push.apply(m,i)}return m}function r(E){for(var A=1;A<arguments.length;A++){var m=arguments[A]!=null?arguments[A]:{};A%2?n(Object(m),!0).forEach(function(i){c(E,i,m[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(m)):n(Object(m)).forEach(function(i){Object.defineProperty(E,i,Object.getOwnPropertyDescriptor(m,i))})}return E}function c(E,A,m){return A=d(A),A in E?Object.defineProperty(E,A,{value:m,enumerable:!0,configurable:!0,writable:!0}):E[A]=m,E}function y(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}function s(E,A){for(var m=0;m<A.length;m++){var i=A[m];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(E,d(i.key),i)}}function u(E,A,m){return A&&s(E.prototype,A),m&&s(E,m),Object.defineProperty(E,"prototype",{writable:!1}),E}function d(E){var A=a(E,"string");return typeof A=="symbol"?A:String(A)}function a(E,A){if(typeof E!="object"||E===null)return E;var m=E[Symbol.toPrimitive];if(m!==void 0){var i=m.call(E,A||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(E)}var f=se,_=f.Buffer,R=lt,p=R.inspect,b=p&&p.custom||"inspect";function O(E,A,m){_.prototype.copy.call(E,A,m)}return me=function(){function E(){y(this,E),this.head=null,this.tail=null,this.length=0}return u(E,[{key:"push",value:function(m){var i={data:m,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(m){var i={data:m,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var i=this.head,h=""+i.data;i=i.next;)h+=m+i.data;return h}},{key:"concat",value:function(m){if(this.length===0)return _.alloc(0);for(var i=_.allocUnsafe(m>>>0),h=this.head,v=0;h;)O(h.data,i,v),v+=h.data.length,h=h.next;return i}},{key:"consume",value:function(m,i){var h;return m<this.head.data.length?(h=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?h=this.shift():h=i?this._getString(m):this._getBuffer(m),h}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var i=this.head,h=1,v=i.data;for(m-=v.length;i=i.next;){var S=i.data,T=m>S.length?S.length:m;if(T===S.length?v+=S:v+=S.slice(0,m),m-=T,m===0){T===S.length?(++h,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=S.slice(T));break}++h}return this.length-=h,v}},{key:"_getBuffer",value:function(m){var i=_.allocUnsafe(m),h=this.head,v=1;for(h.data.copy(i),m-=h.data.length;h=h.next;){var S=h.data,T=m>S.length?S.length:m;if(S.copy(i,i.length-m,0,T),m-=T,m===0){T===S.length?(++v,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=S.slice(T));break}++v}return this.length-=v,i}},{key:b,value:function(m,i){return p(this,r(r({},i),{},{depth:0,customInspect:!1}))}}]),E}(),me}var Re,Ve;function dt(){if(Ve)return Re;Ve=1;function n(d,a){var f=this,_=this._readableState&&this._readableState.destroyed,R=this._writableState&&this._writableState.destroyed;return _||R?(a?a(d):d&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,k.nextTick(s,this,d)):k.nextTick(s,this,d)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(d||null,function(p){!a&&p?f._writableState?f._writableState.errorEmitted?k.nextTick(c,f):(f._writableState.errorEmitted=!0,k.nextTick(r,f,p)):k.nextTick(r,f,p):a?(k.nextTick(c,f),a(p)):k.nextTick(c,f)}),this)}function r(d,a){s(d,a),c(d)}function c(d){d._writableState&&!d._writableState.emitClose||d._readableState&&!d._readableState.emitClose||d.emit("close")}function y(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(d,a){d.emit("error",a)}function u(d,a){var f=d._readableState,_=d._writableState;f&&f.autoDestroy||_&&_.autoDestroy?d.destroy(a):d.emit("error",a)}return Re={destroy:n,undestroy:y,errorOrDestroy:u},Re}var Ee={},Ke;function Z(){if(Ke)return Ee;Ke=1;function n(a,f){a.prototype=Object.create(f.prototype),a.prototype.constructor=a,a.__proto__=f}var r={};function c(a,f,_){_||(_=Error);function R(b,O,E){return typeof f=="string"?f:f(b,O,E)}var p=function(b){n(O,b);function O(E,A,m){return b.call(this,R(E,A,m))||this}return O}(_);p.prototype.name=_.name,p.prototype.code=a,r[a]=p}function y(a,f){if(Array.isArray(a)){var _=a.length;return a=a.map(function(R){return String(R)}),_>2?"one of ".concat(f," ").concat(a.slice(0,_-1).join(", "),", or ")+a[_-1]:_===2?"one of ".concat(f," ").concat(a[0]," or ").concat(a[1]):"of ".concat(f," ").concat(a[0])}else return"of ".concat(f," ").concat(String(a))}function s(a,f,_){return a.substr(!_||_<0?0:+_,f.length)===f}function u(a,f,_){return(_===void 0||_>a.length)&&(_=a.length),a.substring(_-f.length,_)===f}function d(a,f,_){return typeof _!="number"&&(_=0),_+f.length>a.length?!1:a.indexOf(f,_)!==-1}return c("ERR_INVALID_OPT_VALUE",function(a,f){return'The value "'+f+'" is invalid for option "'+a+'"'},TypeError),c("ERR_INVALID_ARG_TYPE",function(a,f,_){var R;typeof f=="string"&&s(f,"not ")?(R="must not be",f=f.replace(/^not /,"")):R="must be";var p;if(u(a," argument"))p="The ".concat(a," ").concat(R," ").concat(y(f,"type"));else{var b=d(a,".")?"property":"argument";p='The "'.concat(a,'" ').concat(b," ").concat(R," ").concat(y(f,"type"))}return p+=". Received type ".concat(typeof _),p},TypeError),c("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),c("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),c("ERR_STREAM_PREMATURE_CLOSE","Premature close"),c("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),c("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),c("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),c("ERR_STREAM_WRITE_AFTER_END","write after end"),c("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),c("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),c("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Ee.codes=r,Ee}var Se,$e;function ht(){if($e)return Se;$e=1;var n=Z().codes.ERR_INVALID_OPT_VALUE;function r(y,s,u){return y.highWaterMark!=null?y.highWaterMark:s?y[u]:null}function c(y,s,u,d){var a=r(s,d,u);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var f=d?u:"highWaterMark";throw new n(f,a)}return Math.floor(a)}return y.objectMode?16:16*1024}return Se={getHighWaterMark:c},Se}var Te,Ye;function ct(){if(Ye)return Te;Ye=1,Te=q;function n(l){var o=this;this.next=null,this.entry=null,this.finish=function(){ge(o,l)}}var r;q.WritableState=N;var c={deprecate:Rt()},y=ut(),s=se.Buffer,u=(typeof j<"u"?j:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function d(l){return s.from(l)}function a(l){return s.isBuffer(l)||l instanceof u}var f=dt(),_=ht(),R=_.getHighWaterMark,p=Z().codes,b=p.ERR_INVALID_ARG_TYPE,O=p.ERR_METHOD_NOT_IMPLEMENTED,E=p.ERR_MULTIPLE_CALLBACK,A=p.ERR_STREAM_CANNOT_PIPE,m=p.ERR_STREAM_DESTROYED,i=p.ERR_STREAM_NULL_VALUES,h=p.ERR_STREAM_WRITE_AFTER_END,v=p.ERR_UNKNOWN_ENCODING,S=f.errorOrDestroy;K(q,y);function T(){}function N(l,o,w){r=r||Q(),l=l||{},typeof w!="boolean"&&(w=o instanceof r),this.objectMode=!!l.objectMode,w&&(this.objectMode=this.objectMode||!!l.writableObjectMode),this.highWaterMark=R(this,l,"writableHighWaterMark",w),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var C=l.decodeStrings===!1;this.decodeStrings=!C,this.defaultEncoding=l.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(D){ce(o,D)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=l.emitClose!==!1,this.autoDestroy=!!l.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}N.prototype.getBuffer=function(){for(var o=this.bufferedRequest,w=[];o;)w.push(o),o=o.next;return w},function(){try{Object.defineProperty(N.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var B;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(B=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(o){return B.call(this,o)?!0:this!==q?!1:o&&o._writableState instanceof N}})):B=function(o){return o instanceof this};function q(l){r=r||Q();var o=this instanceof r;if(!o&&!B.call(q,this))return new q(l);this._writableState=new N(l,this,o),this.writable=!0,l&&(typeof l.write=="function"&&(this._write=l.write),typeof l.writev=="function"&&(this._writev=l.writev),typeof l.destroy=="function"&&(this._destroy=l.destroy),typeof l.final=="function"&&(this._final=l.final)),y.call(this)}q.prototype.pipe=function(){S(this,new A)};function L(l,o){var w=new h;S(l,w),k.nextTick(o,w)}function H(l,o,w,C){var D;return w===null?D=new i:typeof w!="string"&&!o.objectMode&&(D=new b("chunk",["string","Buffer"],w)),D?(S(l,D),k.nextTick(C,D),!1):!0}q.prototype.write=function(l,o,w){var C=this._writableState,D=!1,e=!C.objectMode&&a(l);return e&&!s.isBuffer(l)&&(l=d(l)),typeof o=="function"&&(w=o,o=null),e?o="buffer":o||(o=C.defaultEncoding),typeof w!="function"&&(w=T),C.ending?L(this,w):(e||H(this,C,l,w))&&(C.pendingcb++,D=de(this,C,e,l,o,w)),D},q.prototype.cork=function(){this._writableState.corked++},q.prototype.uncork=function(){var l=this._writableState;l.corked&&(l.corked--,!l.writing&&!l.corked&&!l.bufferProcessing&&l.bufferedRequest&&Y(this,l))},q.prototype.setDefaultEncoding=function(o){if(typeof o=="string"&&(o=o.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((o+"").toLowerCase())>-1))throw new v(o);return this._writableState.defaultEncoding=o,this},Object.defineProperty(q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ee(l,o,w){return!l.objectMode&&l.decodeStrings!==!1&&typeof o=="string"&&(o=s.from(o,w)),o}Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function de(l,o,w,C,D,e){if(!w){var t=ee(o,C,D);C!==t&&(w=!0,D="buffer",C=t)}var g=o.objectMode?1:C.length;o.length+=g;var M=o.length<o.highWaterMark;if(M||(o.needDrain=!0),o.writing||o.corked){var x=o.lastBufferedRequest;o.lastBufferedRequest={chunk:C,encoding:D,isBuf:w,callback:e,next:null},x?x.next=o.lastBufferedRequest:o.bufferedRequest=o.lastBufferedRequest,o.bufferedRequestCount+=1}else $(l,o,!1,g,C,D,e);return M}function $(l,o,w,C,D,e,t){o.writelen=C,o.writecb=t,o.writing=!0,o.sync=!0,o.destroyed?o.onwrite(new m("write")):w?l._writev(D,o.onwrite):l._write(D,e,o.onwrite),o.sync=!1}function he(l,o,w,C,D){--o.pendingcb,w?(k.nextTick(D,C),k.nextTick(F,l,o),l._writableState.errorEmitted=!0,S(l,C)):(D(C),l._writableState.errorEmitted=!0,S(l,C),F(l,o))}function re(l){l.writing=!1,l.writecb=null,l.length-=l.writelen,l.writelen=0}function ce(l,o){var w=l._writableState,C=w.sync,D=w.writecb;if(typeof D!="function")throw new E;if(re(w),o)he(l,w,C,o,D);else{var e=ie(w)||l.destroyed;!e&&!w.corked&&!w.bufferProcessing&&w.bufferedRequest&&Y(l,w),C?k.nextTick(W,l,w,e,D):W(l,w,e,D)}}function W(l,o,w,C){w||ne(l,o),o.pendingcb--,C(),F(l,o)}function ne(l,o){o.length===0&&o.needDrain&&(o.needDrain=!1,l.emit("drain"))}function Y(l,o){o.bufferProcessing=!0;var w=o.bufferedRequest;if(l._writev&&w&&w.next){var C=o.bufferedRequestCount,D=new Array(C),e=o.corkedRequestsFree;e.entry=w;for(var t=0,g=!0;w;)D[t]=w,w.isBuf||(g=!1),w=w.next,t+=1;D.allBuffers=g,$(l,o,!0,o.length,D,"",e.finish),o.pendingcb++,o.lastBufferedRequest=null,e.next?(o.corkedRequestsFree=e.next,e.next=null):o.corkedRequestsFree=new n(o),o.bufferedRequestCount=0}else{for(;w;){var M=w.chunk,x=w.encoding,P=w.callback,I=o.objectMode?1:M.length;if($(l,o,!1,I,M,x,P),w=w.next,o.bufferedRequestCount--,o.writing)break}w===null&&(o.lastBufferedRequest=null)}o.bufferedRequest=w,o.bufferProcessing=!1}q.prototype._write=function(l,o,w){w(new O("_write()"))},q.prototype._writev=null,q.prototype.end=function(l,o,w){var C=this._writableState;return typeof l=="function"?(w=l,l=null,o=null):typeof o=="function"&&(w=o,o=null),l!=null&&this.write(l,o),C.corked&&(C.corked=1,this.uncork()),C.ending||_e(this,C,w),this},Object.defineProperty(q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ie(l){return l.ending&&l.length===0&&l.bufferedRequest===null&&!l.finished&&!l.writing}function pe(l,o){l._final(function(w){o.pendingcb--,w&&S(l,w),o.prefinished=!0,l.emit("prefinish"),F(l,o)})}function ae(l,o){!o.prefinished&&!o.finalCalled&&(typeof l._final=="function"&&!o.destroyed?(o.pendingcb++,o.finalCalled=!0,k.nextTick(pe,l,o)):(o.prefinished=!0,l.emit("prefinish")))}function F(l,o){var w=ie(o);if(w&&(ae(l,o),o.pendingcb===0&&(o.finished=!0,l.emit("finish"),o.autoDestroy))){var C=l._readableState;(!C||C.autoDestroy&&C.endEmitted)&&l.destroy()}return w}function _e(l,o,w){o.ending=!0,F(l,o),w&&(o.finished?k.nextTick(w):l.once("finish",w)),o.ended=!0,l.writable=!1}function ge(l,o,w){var C=l.entry;for(l.entry=null;C;){var D=C.callback;o.pendingcb--,D(w),C=C.next}o.corkedRequestsFree.next=l}return Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(o){this._writableState&&(this._writableState.destroyed=o)}}),q.prototype.destroy=f.destroy,q.prototype._undestroy=f.undestroy,q.prototype._destroy=function(l,o){o(l)},Te}var Me,Xe;function Q(){if(Xe)return Me;Xe=1;var n=Object.keys||function(_){var R=[];for(var p in _)R.push(p);return R};Me=d;var r=pt(),c=ct();K(d,r);for(var y=n(c.prototype),s=0;s<y.length;s++){var u=y[s];d.prototype[u]||(d.prototype[u]=c.prototype[u])}function d(_){if(!(this instanceof d))return new d(_);r.call(this,_),c.call(this,_),this.allowHalfOpen=!0,_&&(_.readable===!1&&(this.readable=!1),_.writable===!1&&(this.writable=!1),_.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||k.nextTick(f,this)}function f(_){_.end()}return Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(R){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=R,this._writableState.destroyed=R)}}),Me}var Ae={},fe={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var ze;function Mt(){return ze||(ze=1,function(n,r){var c=se,y=c.Buffer;function s(d,a){for(var f in d)a[f]=d[f]}y.from&&y.alloc&&y.allocUnsafe&&y.allocUnsafeSlow?n.exports=c:(s(c,r),r.Buffer=u);function u(d,a,f){return y(d,a,f)}u.prototype=Object.create(y.prototype),s(y,u),u.from=function(d,a,f){if(typeof d=="number")throw new TypeError("Argument must not be a number");return y(d,a,f)},u.alloc=function(d,a,f){if(typeof d!="number")throw new TypeError("Argument must be a number");var _=y(d);return a!==void 0?typeof f=="string"?_.fill(a,f):_.fill(a):_.fill(0),_},u.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return y(d)},u.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return c.SlowBuffer(d)}}(fe,fe.exports)),fe.exports}var Je;function Qe(){if(Je)return Ae;Je=1;var n=Mt().Buffer,r=n.isEncoding||function(i){switch(i=""+i,i&&i.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(i){if(!i)return"utf8";for(var h;;)switch(i){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return i;default:if(h)return;i=(""+i).toLowerCase(),h=!0}}function y(i){var h=c(i);if(typeof h!="string"&&(n.isEncoding===r||!r(i)))throw new Error("Unknown encoding: "+i);return h||i}Ae.StringDecoder=s;function s(i){this.encoding=y(i);var h;switch(this.encoding){case"utf16le":this.text=p,this.end=b,h=4;break;case"utf8":this.fillLast=f,h=4;break;case"base64":this.text=O,this.end=E,h=3;break;default:this.write=A,this.end=m;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(h)}s.prototype.write=function(i){if(i.length===0)return"";var h,v;if(this.lastNeed){if(h=this.fillLast(i),h===void 0)return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<i.length?h?h+this.text(i,v):this.text(i,v):h||""},s.prototype.end=R,s.prototype.text=_,s.prototype.fillLast=function(i){if(this.lastNeed<=i.length)return i.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);i.copy(this.lastChar,this.lastTotal-this.lastNeed,0,i.length),this.lastNeed-=i.length};function u(i){return i<=127?0:i>>5===6?2:i>>4===14?3:i>>3===30?4:i>>6===2?-1:-2}function d(i,h,v){var S=h.length-1;if(S<v)return 0;var T=u(h[S]);return T>=0?(T>0&&(i.lastNeed=T-1),T):--S<v||T===-2?0:(T=u(h[S]),T>=0?(T>0&&(i.lastNeed=T-2),T):--S<v||T===-2?0:(T=u(h[S]),T>=0?(T>0&&(T===2?T=0:i.lastNeed=T-3),T):0))}function a(i,h,v){if((h[0]&192)!==128)return i.lastNeed=0,"�";if(i.lastNeed>1&&h.length>1){if((h[1]&192)!==128)return i.lastNeed=1,"�";if(i.lastNeed>2&&h.length>2&&(h[2]&192)!==128)return i.lastNeed=2,"�"}}function f(i){var h=this.lastTotal-this.lastNeed,v=a(this,i);if(v!==void 0)return v;if(this.lastNeed<=i.length)return i.copy(this.lastChar,h,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);i.copy(this.lastChar,h,0,i.length),this.lastNeed-=i.length}function _(i,h){var v=d(this,i,h);if(!this.lastNeed)return i.toString("utf8",h);this.lastTotal=v;var S=i.length-(v-this.lastNeed);return i.copy(this.lastChar,0,S),i.toString("utf8",h,S)}function R(i){var h=i&&i.length?this.write(i):"";return this.lastNeed?h+"�":h}function p(i,h){if((i.length-h)%2===0){var v=i.toString("utf16le",h);if(v){var S=v.charCodeAt(v.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=i[i.length-2],this.lastChar[1]=i[i.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=i[i.length-1],i.toString("utf16le",h,i.length-1)}function b(i){var h=i&&i.length?this.write(i):"";if(this.lastNeed){var v=this.lastTotal-this.lastNeed;return h+this.lastChar.toString("utf16le",0,v)}return h}function O(i,h){var v=(i.length-h)%3;return v===0?i.toString("base64",h):(this.lastNeed=3-v,this.lastTotal=3,v===1?this.lastChar[0]=i[i.length-1]:(this.lastChar[0]=i[i.length-2],this.lastChar[1]=i[i.length-1]),i.toString("base64",h,i.length-v))}function E(i){var h=i&&i.length?this.write(i):"";return this.lastNeed?h+this.lastChar.toString("base64",0,3-this.lastNeed):h}function A(i){return i.toString(this.encoding)}function m(i){return i&&i.length?this.write(i):""}return Ae}var Oe,Ze;function Ie(){if(Ze)return Oe;Ze=1;var n=Z().codes.ERR_STREAM_PREMATURE_CLOSE;function r(u){var d=!1;return function(){if(!d){d=!0;for(var a=arguments.length,f=new Array(a),_=0;_<a;_++)f[_]=arguments[_];u.apply(this,f)}}}function c(){}function y(u){return u.setHeader&&typeof u.abort=="function"}function s(u,d,a){if(typeof d=="function")return s(u,null,d);d||(d={}),a=r(a||c);var f=d.readable||d.readable!==!1&&u.readable,_=d.writable||d.writable!==!1&&u.writable,R=function(){u.writable||b()},p=u._writableState&&u._writableState.finished,b=function(){_=!1,p=!0,f||a.call(u)},O=u._readableState&&u._readableState.endEmitted,E=function(){f=!1,O=!0,_||a.call(u)},A=function(v){a.call(u,v)},m=function(){var v;if(f&&!O)return(!u._readableState||!u._readableState.ended)&&(v=new n),a.call(u,v);if(_&&!p)return(!u._writableState||!u._writableState.ended)&&(v=new n),a.call(u,v)},i=function(){u.req.on("finish",b)};return y(u)?(u.on("complete",b),u.on("abort",m),u.req?i():u.on("request",i)):_&&!u._writableState&&(u.on("end",R),u.on("close",R)),u.on("end",E),u.on("finish",b),d.error!==!1&&u.on("error",A),u.on("close",m),function(){u.removeListener("complete",b),u.removeListener("abort",m),u.removeListener("request",i),u.req&&u.req.removeListener("finish",b),u.removeListener("end",R),u.removeListener("close",R),u.removeListener("finish",b),u.removeListener("end",E),u.removeListener("error",A),u.removeListener("close",m)}}return Oe=s,Oe}var Ce,et;function At(){if(et)return Ce;et=1;var n;function r(v,S,T){return S=c(S),S in v?Object.defineProperty(v,S,{value:T,enumerable:!0,configurable:!0,writable:!0}):v[S]=T,v}function c(v){var S=y(v,"string");return typeof S=="symbol"?S:String(S)}function y(v,S){if(typeof v!="object"||v===null)return v;var T=v[Symbol.toPrimitive];if(T!==void 0){var N=T.call(v,S||"default");if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(v)}var s=Ie(),u=Symbol("lastResolve"),d=Symbol("lastReject"),a=Symbol("error"),f=Symbol("ended"),_=Symbol("lastPromise"),R=Symbol("handlePromise"),p=Symbol("stream");function b(v,S){return{value:v,done:S}}function O(v){var S=v[u];if(S!==null){var T=v[p].read();T!==null&&(v[_]=null,v[u]=null,v[d]=null,S(b(T,!1)))}}function E(v){k.nextTick(O,v)}function A(v,S){return function(T,N){v.then(function(){if(S[f]){T(b(void 0,!0));return}S[R](T,N)},N)}}var m=Object.getPrototypeOf(function(){}),i=Object.setPrototypeOf((n={get stream(){return this[p]},next:function(){var S=this,T=this[a];if(T!==null)return Promise.reject(T);if(this[f])return Promise.resolve(b(void 0,!0));if(this[p].destroyed)return new Promise(function(L,H){k.nextTick(function(){S[a]?H(S[a]):L(b(void 0,!0))})});var N=this[_],B;if(N)B=new Promise(A(N,this));else{var q=this[p].read();if(q!==null)return Promise.resolve(b(q,!1));B=new Promise(this[R])}return this[_]=B,B}},r(n,Symbol.asyncIterator,function(){return this}),r(n,"return",function(){var S=this;return new Promise(function(T,N){S[p].destroy(null,function(B){if(B){N(B);return}T(b(void 0,!0))})})}),n),m),h=function(S){var T,N=Object.create(i,(T={},r(T,p,{value:S,writable:!0}),r(T,u,{value:null,writable:!0}),r(T,d,{value:null,writable:!0}),r(T,a,{value:null,writable:!0}),r(T,f,{value:S._readableState.endEmitted,writable:!0}),r(T,R,{value:function(q,L){var H=N[p].read();H?(N[_]=null,N[u]=null,N[d]=null,q(b(H,!1))):(N[u]=q,N[d]=L)},writable:!0}),T));return N[_]=null,s(S,function(B){if(B&&B.code!=="ERR_STREAM_PREMATURE_CLOSE"){var q=N[d];q!==null&&(N[_]=null,N[u]=null,N[d]=null,q(B)),N[a]=B;return}var L=N[u];L!==null&&(N[_]=null,N[u]=null,N[d]=null,L(b(void 0,!0))),N[f]=!0}),S.on("readable",E.bind(null,N)),N};return Ce=h,Ce}var Ne,tt;function Ot(){return tt||(tt=1,Ne=function(){throw new Error("Readable.from is not available in the browser")}),Ne}var Le,rt;function pt(){if(rt)return Le;rt=1,Le=L;var n;L.ReadableState=q,st.EventEmitter;var r=function(t,g){return t.listeners(g).length},c=ut(),y=se.Buffer,s=(typeof j<"u"?j:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function u(e){return y.from(e)}function d(e){return y.isBuffer(e)||e instanceof s}var a=lt,f;a&&a.debuglog?f=a.debuglog("stream"):f=function(){};var _=Tt(),R=dt(),p=ht(),b=p.getHighWaterMark,O=Z().codes,E=O.ERR_INVALID_ARG_TYPE,A=O.ERR_STREAM_PUSH_AFTER_EOF,m=O.ERR_METHOD_NOT_IMPLEMENTED,i=O.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,h,v,S;K(L,c);var T=R.errorOrDestroy,N=["error","close","destroy","pause","resume"];function B(e,t,g){if(typeof e.prependListener=="function")return e.prependListener(t,g);!e._events||!e._events[t]?e.on(t,g):Array.isArray(e._events[t])?e._events[t].unshift(g):e._events[t]=[g,e._events[t]]}function q(e,t,g){n=n||Q(),e=e||{},typeof g!="boolean"&&(g=t instanceof n),this.objectMode=!!e.objectMode,g&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=b(this,e,"readableHighWaterMark",g),this.buffer=new _,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=Qe().StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function L(e){if(n=n||Q(),!(this instanceof L))return new L(e);var t=this instanceof n;this._readableState=new q(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),c.call(this)}Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),L.prototype.destroy=R.destroy,L.prototype._undestroy=R.undestroy,L.prototype._destroy=function(e,t){t(e)},L.prototype.push=function(e,t){var g=this._readableState,M;return g.objectMode?M=!0:typeof e=="string"&&(t=t||g.defaultEncoding,t!==g.encoding&&(e=y.from(e,t),t=""),M=!0),H(this,e,t,!1,M)},L.prototype.unshift=function(e){return H(this,e,null,!0,!1)};function H(e,t,g,M,x){f("readableAddChunk",t);var P=e._readableState;if(t===null)P.reading=!1,ce(e,P);else{var I;if(x||(I=de(P,t)),I)T(e,I);else if(P.objectMode||t&&t.length>0)if(typeof t!="string"&&!P.objectMode&&Object.getPrototypeOf(t)!==y.prototype&&(t=u(t)),M)P.endEmitted?T(e,new i):ee(e,P,t,!0);else if(P.ended)T(e,new A);else{if(P.destroyed)return!1;P.reading=!1,P.decoder&&!g?(t=P.decoder.write(t),P.objectMode||t.length!==0?ee(e,P,t,!1):Y(e,P)):ee(e,P,t,!1)}else M||(P.reading=!1,Y(e,P))}return!P.ended&&(P.length<P.highWaterMark||P.length===0)}function ee(e,t,g,M){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",g)):(t.length+=t.objectMode?1:g.length,M?t.buffer.unshift(g):t.buffer.push(g),t.needReadable&&W(e)),Y(e,t)}function de(e,t){var g;return!d(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(g=new E("chunk",["string","Buffer","Uint8Array"],t)),g}L.prototype.isPaused=function(){return this._readableState.flowing===!1},L.prototype.setEncoding=function(e){h||(h=Qe().StringDecoder);var t=new h(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var g=this._readableState.buffer.head,M="";g!==null;)M+=t.write(g.data),g=g.next;return this._readableState.buffer.clear(),M!==""&&this._readableState.buffer.push(M),this._readableState.length=M.length,this};var $=1073741824;function he(e){return e>=$?e=$:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function re(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=he(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}L.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,g=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return f("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?w(this):W(this),null;if(e=re(e,t),e===0&&t.ended)return t.length===0&&w(this),null;var M=t.needReadable;f("need readable",M),(t.length===0||t.length-e<t.highWaterMark)&&(M=!0,f("length less than watermark",M)),t.ended||t.reading?(M=!1,f("reading or ended",M)):M&&(f("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=re(g,t)));var x;return e>0?x=o(e,t):x=null,x===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),g!==e&&t.ended&&w(this)),x!==null&&this.emit("data",x),x};function ce(e,t){if(f("onEofChunk"),!t.ended){if(t.decoder){var g=t.decoder.end();g&&g.length&&(t.buffer.push(g),t.length+=t.objectMode?1:g.length)}t.ended=!0,t.sync?W(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,ne(e)))}}function W(e){var t=e._readableState;f("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,k.nextTick(ne,e))}function ne(e){var t=e._readableState;f("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,l(e)}function Y(e,t){t.readingMore||(t.readingMore=!0,k.nextTick(ie,e,t))}function ie(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var g=t.length;if(f("maybeReadMore read 0"),e.read(0),g===t.length)break}t.readingMore=!1}L.prototype._read=function(e){T(this,new m("_read()"))},L.prototype.pipe=function(e,t){var g=this,M=this._readableState;switch(M.pipesCount){case 0:M.pipes=e;break;case 1:M.pipes=[M.pipes,e];break;default:M.pipes.push(e);break}M.pipesCount+=1,f("pipe count=%d opts=%j",M.pipesCount,t);var x=(!t||t.end!==!1)&&e!==k.stdout&&e!==k.stderr,P=x?X:te;M.endEmitted?k.nextTick(P):g.once("end",P),e.on("unpipe",I);function I(z,J){f("onunpipe"),z===g&&J&&J.hasUnpiped===!1&&(J.hasUnpiped=!0,wt())}function X(){f("onend"),e.end()}var oe=pe(g);e.on("drain",oe);var He=!1;function wt(){f("cleanup"),e.removeListener("close",be),e.removeListener("finish",ve),e.removeListener("drain",oe),e.removeListener("error",ye),e.removeListener("unpipe",I),g.removeListener("end",X),g.removeListener("end",te),g.removeListener("data",We),He=!0,M.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&oe()}g.on("data",We);function We(z){f("ondata");var J=e.write(z);f("dest.write",J),J===!1&&((M.pipesCount===1&&M.pipes===e||M.pipesCount>1&&D(M.pipes,e)!==-1)&&!He&&(f("false write response, pause",M.awaitDrain),M.awaitDrain++),g.pause())}function ye(z){f("onerror",z),te(),e.removeListener("error",ye),r(e,"error")===0&&T(e,z)}B(e,"error",ye);function be(){e.removeListener("finish",ve),te()}e.once("close",be);function ve(){f("onfinish"),e.removeListener("close",be),te()}e.once("finish",ve);function te(){f("unpipe"),g.unpipe(e)}return e.emit("pipe",g),M.flowing||(f("pipe resume"),g.resume()),e};function pe(e){return function(){var g=e._readableState;f("pipeOnDrain",g.awaitDrain),g.awaitDrain&&g.awaitDrain--,g.awaitDrain===0&&r(e,"data")&&(g.flowing=!0,l(e))}}L.prototype.unpipe=function(e){var t=this._readableState,g={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,g),this);if(!e){var M=t.pipes,x=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var P=0;P<x;P++)M[P].emit("unpipe",this,{hasUnpiped:!1});return this}var I=D(t.pipes,e);return I===-1?this:(t.pipes.splice(I,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,g),this)},L.prototype.on=function(e,t){var g=c.prototype.on.call(this,e,t),M=this._readableState;return e==="data"?(M.readableListening=this.listenerCount("readable")>0,M.flowing!==!1&&this.resume()):e==="readable"&&!M.endEmitted&&!M.readableListening&&(M.readableListening=M.needReadable=!0,M.flowing=!1,M.emittedReadable=!1,f("on readable",M.length,M.reading),M.length?W(this):M.reading||k.nextTick(F,this)),g},L.prototype.addListener=L.prototype.on,L.prototype.removeListener=function(e,t){var g=c.prototype.removeListener.call(this,e,t);return e==="readable"&&k.nextTick(ae,this),g},L.prototype.removeAllListeners=function(e){var t=c.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&k.nextTick(ae,this),t};function ae(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function F(e){f("readable nexttick read 0"),e.read(0)}L.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!e.readableListening,_e(this,e)),e.paused=!1,this};function _e(e,t){t.resumeScheduled||(t.resumeScheduled=!0,k.nextTick(ge,e,t))}function ge(e,t){f("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),l(e),t.flowing&&!t.reading&&e.read(0)}L.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function l(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&e.read()!==null;);}L.prototype.wrap=function(e){var t=this,g=this._readableState,M=!1;e.on("end",function(){if(f("wrapped end"),g.decoder&&!g.ended){var I=g.decoder.end();I&&I.length&&t.push(I)}t.push(null)}),e.on("data",function(I){if(f("wrapped data"),g.decoder&&(I=g.decoder.write(I)),!(g.objectMode&&I==null)&&!(!g.objectMode&&(!I||!I.length))){var X=t.push(I);X||(M=!0,e.pause())}});for(var x in e)this[x]===void 0&&typeof e[x]=="function"&&(this[x]=function(X){return function(){return e[X].apply(e,arguments)}}(x));for(var P=0;P<N.length;P++)e.on(N[P],this.emit.bind(this,N[P]));return this._read=function(I){f("wrapped _read",I),M&&(M=!1,e.resume())},this},typeof Symbol=="function"&&(L.prototype[Symbol.asyncIterator]=function(){return v===void 0&&(v=At()),v(this)}),Object.defineProperty(L.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(L.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(L.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),L._fromList=o,Object.defineProperty(L.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function o(e,t){if(t.length===0)return null;var g;return t.objectMode?g=t.buffer.shift():!e||e>=t.length?(t.decoder?g=t.buffer.join(""):t.buffer.length===1?g=t.buffer.first():g=t.buffer.concat(t.length),t.buffer.clear()):g=t.buffer.consume(e,t.decoder),g}function w(e){var t=e._readableState;f("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,k.nextTick(C,t,e))}function C(e,t){if(f("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var g=t._writableState;(!g||g.autoDestroy&&g.finished)&&t.destroy()}}typeof Symbol=="function"&&(L.from=function(e,t){return S===void 0&&(S=Ot()),S(L,e,t)});function D(e,t){for(var g=0,M=e.length;g<M;g++)if(e[g]===t)return g;return-1}return Le}var Pe,nt;function _t(){if(nt)return Pe;nt=1,Pe=a;var n=Z().codes,r=n.ERR_METHOD_NOT_IMPLEMENTED,c=n.ERR_MULTIPLE_CALLBACK,y=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,u=Q();K(a,u);function d(R,p){var b=this._transformState;b.transforming=!1;var O=b.writecb;if(O===null)return this.emit("error",new c);b.writechunk=null,b.writecb=null,p!=null&&this.push(p),O(R);var E=this._readableState;E.reading=!1,(E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}function a(R){if(!(this instanceof a))return new a(R);u.call(this,R),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,R&&(typeof R.transform=="function"&&(this._transform=R.transform),typeof R.flush=="function"&&(this._flush=R.flush)),this.on("prefinish",f)}function f(){var R=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(p,b){_(R,p,b)}):_(this,null,null)}a.prototype.push=function(R,p){return this._transformState.needTransform=!1,u.prototype.push.call(this,R,p)},a.prototype._transform=function(R,p,b){b(new r("_transform()"))},a.prototype._write=function(R,p,b){var O=this._transformState;if(O.writecb=b,O.writechunk=R,O.writeencoding=p,!O.transforming){var E=this._readableState;(O.needTransform||E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}},a.prototype._read=function(R){var p=this._transformState;p.writechunk!==null&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},a.prototype._destroy=function(R,p){u.prototype._destroy.call(this,R,function(b){p(b)})};function _(R,p,b){if(p)return R.emit("error",p);if(b!=null&&R.push(b),R._writableState.length)throw new s;if(R._transformState.transforming)throw new y;return R.push(null)}return Pe}var De,it;function Ct(){if(it)return De;it=1,De=r;var n=_t();K(r,n);function r(c){if(!(this instanceof r))return new r(c);n.call(this,c)}return r.prototype._transform=function(c,y,s){s(null,c)},De}var qe,at;function Nt(){if(at)return qe;at=1;var n;function r(b){var O=!1;return function(){O||(O=!0,b.apply(void 0,arguments))}}var c=Z().codes,y=c.ERR_MISSING_ARGS,s=c.ERR_STREAM_DESTROYED;function u(b){if(b)throw b}function d(b){return b.setHeader&&typeof b.abort=="function"}function a(b,O,E,A){A=r(A);var m=!1;b.on("close",function(){m=!0}),n===void 0&&(n=Ie()),n(b,{readable:O,writable:E},function(h){if(h)return A(h);m=!0,A()});var i=!1;return function(h){if(!m&&!i){if(i=!0,d(b))return b.abort();if(typeof b.destroy=="function")return b.destroy();A(h||new s("pipe"))}}}function f(b){b()}function _(b,O){return b.pipe(O)}function R(b){return!b.length||typeof b[b.length-1]!="function"?u:b.pop()}function p(){for(var b=arguments.length,O=new Array(b),E=0;E<b;E++)O[E]=arguments[E];var A=R(O);if(Array.isArray(O[0])&&(O=O[0]),O.length<2)throw new y("streams");var m,i=O.map(function(h,v){var S=v<O.length-1,T=v>0;return a(h,S,T,function(N){m||(m=N),N&&i.forEach(f),!S&&(i.forEach(f),A(m))})});return O.reduce(_)}return qe=p,qe}var xe={},gt={exports:{}},Be={};(function(n){n.fetch=s(j.fetch)&&s(j.ReadableStream),n.writableStream=s(j.WritableStream),n.abortController=s(j.AbortController);var r;function c(){if(r!==void 0)return r;if(j.XMLHttpRequest){r=new j.XMLHttpRequest;try{r.open("GET",j.XDomainRequest?"/":"https://example.com")}catch{r=null}}else r=null;return r}function y(u){var d=c();if(!d)return!1;try{return d.responseType=u,d.responseType===u}catch{}return!1}n.arraybuffer=n.fetch||y("arraybuffer"),n.msstream=!n.fetch&&y("ms-stream"),n.mozchunkedarraybuffer=!n.fetch&&y("moz-chunked-arraybuffer"),n.overrideMimeType=n.fetch||(c()?s(c().overrideMimeType):!1);function s(u){return typeof u=="function"}r=null})(Be);var ue={},ke={exports:{}};(function(n,r){r=n.exports=pt(),r.Stream=r,r.Readable=r,r.Writable=ct(),r.Duplex=Q(),r.Transform=_t(),r.PassThrough=Ct(),r.finished=Ie(),r.pipeline=Nt()})(ke,ke.exports);var yt=ke.exports,ot=Be,Lt=K,bt=yt,le=ue.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},je=ue.IncomingMessage=function(n,r,c,y){var s=this;if(bt.Readable.call(s),s._mode=c,s.headers={},s.rawHeaders=[],s.trailers={},s.rawTrailers=[],s.on("end",function(){k.nextTick(function(){s.emit("close")})}),c==="fetch"){let R=function(){d.read().then(function(p){if(!s._destroyed){if(y(p.done),p.done){s.push(null);return}s.push(G.from(p.value)),R()}}).catch(function(p){y(!0),s._destroyed||s.emit("error",p)})};if(s._fetchResponse=r,s.url=r.url,s.statusCode=r.status,s.statusMessage=r.statusText,r.headers.forEach(function(p,b){s.headers[b.toLowerCase()]=p,s.rawHeaders.push(b,p)}),ot.writableStream){var u=new WritableStream({write:function(p){return y(!1),new Promise(function(b,O){s._destroyed?O():s.push(G.from(p))?b():s._resumeFetch=b})},close:function(){y(!0),s._destroyed||s.push(null)},abort:function(p){y(!0),s._destroyed||s.emit("error",p)}});try{r.body.pipeTo(u).catch(function(p){y(!0),s._destroyed||s.emit("error",p)});return}catch{}}var d=r.body.getReader();R()}else{s._xhr=n,s._pos=0,s.url=n.responseURL,s.statusCode=n.status,s.statusMessage=n.statusText;var a=n.getAllResponseHeaders().split(/\r?\n/);if(a.forEach(function(R){var p=R.match(/^([^:]+):\s*(.*)/);if(p){var b=p[1].toLowerCase();b==="set-cookie"?(s.headers[b]===void 0&&(s.headers[b]=[]),s.headers[b].push(p[2])):s.headers[b]!==void 0?s.headers[b]+=", "+p[2]:s.headers[b]=p[2],s.rawHeaders.push(p[1],p[2])}}),s._charset="x-user-defined",!ot.overrideMimeType){var f=s.rawHeaders["mime-type"];if(f){var _=f.match(/;\s*charset=([^;])(;|$)/);_&&(s._charset=_[1].toLowerCase())}s._charset||(s._charset="utf-8")}}};Lt(je,bt.Readable);je.prototype._read=function(){var n=this,r=n._resumeFetch;r&&(n._resumeFetch=null,r())};je.prototype._onXHRProgress=function(n){var r=this,c=r._xhr,y=null;switch(r._mode){case"text":if(y=c.responseText,y.length>r._pos){var s=y.substr(r._pos);if(r._charset==="x-user-defined"){for(var u=G.alloc(s.length),d=0;d<s.length;d++)u[d]=s.charCodeAt(d)&255;r.push(u)}else r.push(s,r._charset);r._pos=y.length}break;case"arraybuffer":if(c.readyState!==le.DONE||!c.response)break;y=c.response,r.push(G.from(new Uint8Array(y)));break;case"moz-chunked-arraybuffer":if(y=c.response,c.readyState!==le.LOADING||!y)break;r.push(G.from(new Uint8Array(y)));break;case"ms-stream":if(y=c.response,c.readyState!==le.LOADING)break;var a=new j.MSStreamReader;a.onprogress=function(){a.result.byteLength>r._pos&&(r.push(G.from(new Uint8Array(a.result.slice(r._pos)))),r._pos=a.result.byteLength)},a.onload=function(){n(!0),r.push(null)},a.readAsArrayBuffer(y);break}r._xhr.readyState===le.DONE&&r._mode!=="ms-stream"&&(n(!0),r.push(null))};var V=Be,Pt=K,vt=ue,Ue=yt,Dt=vt.IncomingMessage,ft=vt.readyStates;function qt(n,r){return V.fetch&&r?"fetch":V.mozchunkedarraybuffer?"moz-chunked-arraybuffer":V.msstream?"ms-stream":V.arraybuffer&&n?"arraybuffer":"text"}var U=gt.exports=function(n){var r=this;Ue.Writable.call(r),r._opts=n,r._body=[],r._headers={},n.auth&&r.setHeader("Authorization","Basic "+G.from(n.auth).toString("base64")),Object.keys(n.headers).forEach(function(s){r.setHeader(s,n.headers[s])});var c,y=!0;if(n.mode==="disable-fetch"||"requestTimeout"in n&&!V.abortController)y=!1,c=!0;else if(n.mode==="prefer-streaming")c=!1;else if(n.mode==="allow-wrong-content-type")c=!V.overrideMimeType;else if(!n.mode||n.mode==="default"||n.mode==="prefer-fast")c=!0;else throw new Error("Invalid value for opts.mode");r._mode=qt(c,y),r._fetchTimer=null,r._socketTimeout=null,r._socketTimer=null,r.on("finish",function(){r._onFinish()})};Pt(U,Ue.Writable);U.prototype.setHeader=function(n,r){var c=this,y=n.toLowerCase();It.indexOf(y)===-1&&(c._headers[y]={name:n,value:r})};U.prototype.getHeader=function(n){var r=this._headers[n.toLowerCase()];return r?r.value:null};U.prototype.removeHeader=function(n){var r=this;delete r._headers[n.toLowerCase()]};U.prototype._onFinish=function(){var n=this;if(!n._destroyed){var r=n._opts;"timeout"in r&&r.timeout!==0&&n.setTimeout(r.timeout);var c=n._headers,y=null;r.method!=="GET"&&r.method!=="HEAD"&&(y=new Blob(n._body,{type:(c["content-type"]||{}).value||""}));var s=[];if(Object.keys(c).forEach(function(f){var _=c[f].name,R=c[f].value;Array.isArray(R)?R.forEach(function(p){s.push([_,p])}):s.push([_,R])}),n._mode==="fetch"){var u=null;if(V.abortController){var d=new AbortController;u=d.signal,n._fetchAbortController=d,"requestTimeout"in r&&r.requestTimeout!==0&&(n._fetchTimer=j.setTimeout(function(){n.emit("requestTimeout"),n._fetchAbortController&&n._fetchAbortController.abort()},r.requestTimeout))}j.fetch(n._opts.url,{method:n._opts.method,headers:s,body:y||void 0,mode:"cors",credentials:r.withCredentials?"include":"same-origin",signal:u}).then(function(f){n._fetchResponse=f,n._resetTimers(!1),n._connect()},function(f){n._resetTimers(!0),n._destroyed||n.emit("error",f)})}else{var a=n._xhr=new j.XMLHttpRequest;try{a.open(n._opts.method,n._opts.url,!0)}catch(f){k.nextTick(function(){n.emit("error",f)});return}"responseType"in a&&(a.responseType=n._mode),"withCredentials"in a&&(a.withCredentials=!!r.withCredentials),n._mode==="text"&&"overrideMimeType"in a&&a.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in r&&(a.timeout=r.requestTimeout,a.ontimeout=function(){n.emit("requestTimeout")}),s.forEach(function(f){a.setRequestHeader(f[0],f[1])}),n._response=null,a.onreadystatechange=function(){switch(a.readyState){case ft.LOADING:case ft.DONE:n._onXHRProgress();break}},n._mode==="moz-chunked-arraybuffer"&&(a.onprogress=function(){n._onXHRProgress()}),a.onerror=function(){n._destroyed||(n._resetTimers(!0),n.emit("error",new Error("XHR error")))};try{a.send(y)}catch(f){k.nextTick(function(){n.emit("error",f)});return}}}};function kt(n){try{var r=n.status;return r!==null&&r!==0}catch{return!1}}U.prototype._onXHRProgress=function(){var n=this;n._resetTimers(!1),!(!kt(n._xhr)||n._destroyed)&&(n._response||n._connect(),n._response._onXHRProgress(n._resetTimers.bind(n)))};U.prototype._connect=function(){var n=this;n._destroyed||(n._response=new Dt(n._xhr,n._fetchResponse,n._mode,n._resetTimers.bind(n)),n._response.on("error",function(r){n.emit("error",r)}),n.emit("response",n._response))};U.prototype._write=function(n,r,c){var y=this;y._body.push(n),c()};U.prototype._resetTimers=function(n){var r=this;j.clearTimeout(r._socketTimer),r._socketTimer=null,n?(j.clearTimeout(r._fetchTimer),r._fetchTimer=null):r._socketTimeout&&(r._socketTimer=j.setTimeout(function(){r.emit("timeout")},r._socketTimeout))};U.prototype.abort=U.prototype.destroy=function(n){var r=this;r._destroyed=!0,r._resetTimers(!0),r._response&&(r._response._destroyed=!0),r._xhr?r._xhr.abort():r._fetchAbortController&&r._fetchAbortController.abort(),n&&r.emit("error",n)};U.prototype.end=function(n,r,c){var y=this;typeof n=="function"&&(c=n,n=void 0),Ue.Writable.prototype.end.call(y,n,r,c)};U.prototype.setTimeout=function(n,r){var c=this;r&&c.once("timeout",r),c._socketTimeout=n,c._resetTimers(!1)};U.prototype.flushHeaders=function(){};U.prototype.setNoDelay=function(){};U.prototype.setSocketKeepAlive=function(){};var It=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],xt=gt.exports,Bt=Ut,jt=Object.prototype.hasOwnProperty;function Ut(){for(var n={},r=0;r<arguments.length;r++){var c=arguments[r];for(var y in c)jt.call(c,y)&&(n[y]=c[y])}return n}var Ht={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};(function(n){var r=xt,c=ue,y=Bt,s=Ht,u=Et,d=n;d.request=function(a,f){typeof a=="string"?a=u.parse(a):a=y(a);var _=j.location.protocol.search(/^https?:$/)===-1?"http:":"",R=a.protocol||_,p=a.hostname||a.host,b=a.port,O=a.path||"/";p&&p.indexOf(":")!==-1&&(p="["+p+"]"),a.url=(p?R+"//"+p:"")+(b?":"+b:"")+O,a.method=(a.method||"GET").toUpperCase(),a.headers=a.headers||{};var E=new r(a);return f&&E.on("response",f),E},d.get=function(f,_){var R=d.request(f,_);return R.end(),R},d.ClientRequest=r,d.IncomingMessage=c.IncomingMessage,d.Agent=function(){},d.Agent.defaultMaxSockets=4,d.globalAgent=new d.Agent,d.STATUS_CODES=s,d.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]})(xe);const Wt=mt(xe),Jt=St({__proto__:null,default:Wt},[xe]);export{ct as a,Q as b,_t as c,Ct as d,Ie as e,Nt as f,Mt as g,Jt as i,pt as r,xe as s};
