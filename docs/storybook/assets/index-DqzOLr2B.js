import{_ as be,I as Ce,a as ye,b as Z,u as ee,i as xe,f as U,c as B,d as l,e as ae,l as K,h as W,m as te,E as ne,F as Te,P as Se,j as Ie}from"./Button-I6r7vMZn.js";import{P as e}from"./index-4QtD-hFu.js";import{R as o,r as w}from"./index-RfLt4OUa.js";import{C as re}from"./index-RqkF5WTj.js";import{_ as _e,c as Ne,d as X,e as Ee,a as we,b as z}from"./getPrototypeOf-A6qCQ9Q6.js";var Y,$e=["children"],le=o.forwardRef(function(r,c){var t=r.children,s=be(r,$e);return o.createElement(Ce,ye({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",ref:c},s),Y||(Y=o.createElement("path",{d:"M15,14.3L10.7,10c1.9-2.3,1.6-5.8-0.7-7.7S4.2,0.7,2.3,3S0.7,8.8,3,10.7c2,1.7,5,1.7,7,0l4.3,4.3L15,14.3z M2,6.5	C2,4,4,2,6.5,2S11,4,11,6.5S9,11,6.5,11S2,9,2,6.5z"})),t)});function De(a){var r=a.current||a;r&&r.focus&&document.activeElement!==r&&r.focus()}var Pe=["autoComplete","className","closeButtonLabelText","defaultValue","disabled","id","labelText","light","onChange","onClear","onKeyDown","placeHolderText","placeholder","renderIcon","role","size","type","value"];function oe(a){var r,c,t=a.autoComplete,s=t===void 0?"off":t,n=a.className,u=a.closeButtonLabelText,d=u===void 0?"Clear search input":u,v=a.defaultValue,g=a.disabled,L=a.id,O=a.labelText,H=a.light,$=a.onChange,T=$===void 0?function(){}:$,S=a.onClear,b=S===void 0?function(){}:S,j=a.onKeyDown,I=a.placeHolderText,D=a.placeholder,F=D===void 0?"":D,_=a.renderIcon,P=a.role,q=P===void 0?"searchbox":P,N=a.size,C=N===void 0?"md":N,i=a.type,m=i===void 0?"text":i,p=a.value,M=Z(a,Pe),h=ee(),y=w.useRef(null),R=w.useRef(null),k=xe("search-input"),E=L||k,x="".concat(E,"-search"),ce=w.useState(p||v||!1),G=U(ce,2),ie=G[0],A=G[1],ue=w.useState(p),J=U(ue,2),de=J[0],he=J[1],pe=B((r={},l(r,"".concat(h,"--search"),!0),l(r,"".concat(h,"--search--sm"),C==="sm"),l(r,"".concat(h,"--search--md"),C==="md"),l(r,"".concat(h,"--search--lg"),C==="lg"),l(r,"".concat(h,"--search--light"),H),l(r,"".concat(h,"--search--disabled"),g),l(r,n,n),r)),me=B((c={},l(c,"".concat(h,"--search-close"),!0),l(c,"".concat(h,"--search-close--hidden"),!ie),c));p!==de&&(A(!!p),he(p));function Q(f){if(!p)y.current.value="",T(f);else{var ge=Object.assign({},f.target,{target:{value:""}});T(ge)}b(),A(!1),De(y)}function fe(f){A(f.target.value!=="")}function ve(f){te(f,ne)&&(f.stopPropagation(),Q(f))}return o.createElement("div",{role:"search","aria-labelledby":x,className:pe},o.createElement("div",{className:"".concat(h,"--search-magnifier"),ref:R},o.createElement(se,{icon:_})),o.createElement("label",{id:x,htmlFor:E,className:"".concat(h,"--label")},O),o.createElement("input",ae({},M,{autoComplete:s,className:"".concat(h,"--search-input"),defaultValue:v,disabled:g,role:q,ref:y,id:E,onChange:K([T,fe]),onKeyDown:K([j,ve]),placeholder:I||F,type:m,value:p})),o.createElement("button",{"aria-label":d,className:me,disabled:g,onClick:Q,type:"button"},o.createElement(re,null)))}oe.propTypes={autoComplete:e.string,className:e.string,closeButtonLabelText:e.string,defaultValue:e.oneOfType([e.string,e.number]),disabled:e.bool,id:e.string,labelText:e.node.isRequired,light:e.bool,onChange:e.func,onClear:e.func,onKeyDown:e.func,placeHolderText:W(e.string),placeholder:e.string,renderIcon:e.oneOfType([e.func,e.object]),role:e.string,size:e.oneOf(["sm","md","lg"]),type:e.string,value:e.oneOfType([e.string,e.number])};function se(a){var r=a.icon,c=ee();return r?o.cloneElement(r,{className:"".concat(c,"--search-magnifier-icon")}):o.createElement(le,{className:"".concat(c,"--search-magnifier-icon")})}se.propTypes={icon:e.oneOfType([e.func,e.object])};var Re=["className","type","id","placeHolderText","placeholder","labelText","closeButtonLabelText","small","size","light","disabled","onChange","onKeyDown","renderIcon","onClear"];function ze(a){var r=Be();return function(){var t=X(a),s;if(r){var n=X(this).constructor;s=Reflect.construct(t,arguments,n)}else s=t.apply(this,arguments);return Ee(this,s)}}function Be(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var V=function(a){_e(c,a);var r=ze(c);function c(){var t;we(this,c);for(var s=arguments.length,n=new Array(s),u=0;u<s;u++)n[u]=arguments[u];return t=r.call.apply(r,[this].concat(n)),l(z(t),"state",{hasContent:t.props.value||t.props.defaultValue||!1,prevValue:t.props.value}),l(z(t),"clearInput",function(d){if(!t.props.value)t.input.value="",t.props.onChange(d);else{var v=Object.assign({},d.target,{target:{value:""}});t.props.onChange(v)}t.props.onClear(),t.setState({hasContent:!1},function(){return t.input.focus()})}),l(z(t),"handleChange",function(d){t.setState({hasContent:d.target.value!==""})}),l(z(t),"handleKeyDown",function(d){te(d,ne)&&t.clearInput(d)}),t}return Ne(c,[{key:"render",value:function(){var s=this,n=this.props,u=n.className,d=n.type,v=n.id,g=v===void 0?this._inputId=this._inputId||"search__input__id_".concat(Math.random().toString(36).substr(2)):v,L=n.placeHolderText,O=n.placeholder,H=n.labelText,$=n.closeButtonLabelText,T=n.small,S=n.size,b=S===void 0?T?"sm":"xl":S,j=n.light,I=n.disabled,D=n.onChange,F=n.onKeyDown,_=n.renderIcon;n.onClear;var P=Z(n,Re),q=this.state.hasContent,N=this.context,C;return N.enabled&&(C=N.enabled("enable-v11-release")),o.createElement(Se.Consumer,null,function(i){var m,p,M=B((m={},l(m,"".concat(i,"--search"),!0),l(m,"".concat(i,"--search--sm"),b==="sm"),l(m,"".concat(i,"--search--lg"),C?b==="md":b==="lg"),l(m,"".concat(i,"--search--xl"),C?b==="lg":b==="xl"),l(m,"".concat(i,"--search--light"),j),l(m,"".concat(i,"--search--disabled"),I),l(m,u,u),m)),h=B((p={},l(p,"".concat(i,"--search-close"),!0),l(p,"".concat(i,"--search-close--hidden"),!q),p)),y;_&&(y=o.cloneElement(_,{className:"".concat(i,"--search-magnifier-icon")}));var R="".concat(g,"-search"),k=_?y:o.createElement(le,{className:"".concat(i,"--search-magnifier-icon")});return o.createElement("div",{role:"search","aria-labelledby":R,className:M},o.createElement("div",{className:"".concat(i,"--search-magnifier"),ref:function(x){s.magnifier=x}},k),o.createElement("label",{id:R,htmlFor:g,className:"".concat(i,"--label")},H),o.createElement("input",ae({role:"searchbox",autoComplete:"off"},P,{type:d,disabled:I,className:"".concat(i,"--search-input"),id:g,placeholder:L||O,onChange:K([D,s.handleChange]),onKeyDown:K([F,s.handleKeyDown]),ref:function(x){s.input=x}})),o.createElement("button",{className:h,disabled:I,onClick:s.clearInput,type:"button","aria-label":$},o.createElement(re,null)))})}}],[{key:"getDerivedStateFromProps",value:function(s,n){var u=s.value,d=n.prevValue;return d===u?null:{hasContent:!!u,prevValue:u}}}]),c}(w.Component);l(V,"propTypes",{className:e.string,closeButtonLabelText:e.string,defaultValue:e.oneOfType([e.string,e.number]),disabled:e.bool,id:e.string,labelText:e.node.isRequired,light:e.bool,onChange:e.func,onClear:e.func,onKeyDown:e.func,placeHolderText:W(e.string),placeholder:e.string,renderIcon:e.oneOfType([e.func,e.object]),size:e.oneOf(["sm","md","lg","xl"]),small:W(e.bool),type:e.string,value:e.oneOfType([e.string,e.number])});l(V,"contextType",Te);l(V,"defaultProps",{type:"text",placeholder:"",closeButtonLabelText:"Clear search input",onChange:function(){},onClear:function(){}});var Ke=Ie("enable-v11-release")?oe:V;const Fe=Ke;export{Fe as C,le as S};
